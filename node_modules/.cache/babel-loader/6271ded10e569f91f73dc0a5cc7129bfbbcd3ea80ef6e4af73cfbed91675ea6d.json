{"ast":null,"code":"var _jsxFileName = \"G:\\\\GH projects\\\\WTFAdmin\\\\src\\\\components\\\\DragNDrop\\\\DragDrop.js\",\n  _s2 = $RefreshSig$();\nimport React from \"react\";\nimport './DragDrop.css';\nimport { useTranslation } from 'react-i18next';\nimport axios from \"axios\";\n\n// drag drop file component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DragDropFile() {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  // drag state\n  const [dragActive, setDragActive] = React.useState(false);\n  // ref\n  const inputRef = React.useRef(null);\n\n  // handle drag events\n  const handleDrag = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n\n  // triggers when file is dropped\n  const handleDrop = async function (e) {\n    e.preventDefault();\n    setDragActive(false);\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      handleFile(files);\n      // await sendDataToServer(files[0]);\n    } else {\n      console.error('No files uploaded');\n    }\n  };\n  const FileUpload = () => {\n    _s();\n    const [file, setFile] = useState(null);\n    const handleUpload = async () => {\n      try {\n        const formData = new FormData();\n        formData.append('file', file);\n        const response = await axios.post('/api/upload', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log('File uploaded:', response.data);\n      } catch (error) {\n        console.error('Error uploading file:', error.message);\n      }\n    };\n    const handleFileChange = e => {\n      setFile(e.target.files[0]);\n    };\n    function handleFile(files) {\n      alert(\"Number of files: \" + files.length);\n    }\n\n    // triggers when file is selected with click\n    const handleChange = async function (e) {\n      e.preventDefault();\n      const files = e.target.files;\n      if (files && files.length > 0) {\n        console.log(\"Selected file:\", files[0]);\n        handleFile(files);\n        // await sendDataToServer(files[0]);\n      } else {\n        console.error('No files uploaded');\n      }\n    };\n\n    // triggers the input when the button is clicked\n    const onButtonClick = e => {\n      e.preventDefault();\n      inputRef.current.click();\n    };\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"/upload\",\n      method: \"POST\",\n      encType: \"multipart/form-data\",\n      className: \"element-animation\",\n      id: \"form-file-upload\",\n      onDragEnter: handleDrag,\n      onSubmit: e => e.preventDefault(),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        type: \"file\",\n        id: \"input-file-upload\",\n        multiple: true,\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        id: \"label-file-upload\",\n        htmlFor: \"input-file-upload\",\n        for: \"image\",\n        className: dragActive ? \"drag-active\" : \"\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: t('post.pic')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-button\",\n            onClick: handleUpload,\n            children: t('post.picButton')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), dragActive && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"drag-file-element\",\n        onDragEnter: e => e.preventDefault(),\n        onDragLeave: e => e.preventDefault(),\n        onDragOver: e => e.preventDefault(),\n        onDrop: handleDrop\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  };\n  _s(FileUpload, \"Nkb8eHkBruGouXteoqeZ1R6wRVk=\");\n}\n_s2(DragDropFile, \"8OGgVCg17302+m0FtDP6kddKvkg=\", false, function () {\n  return [useTranslation];\n});\n_c = DragDropFile;\n;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"DragDropFile\");","map":{"version":3,"names":["React","useTranslation","axios","jsxDEV","_jsxDEV","DragDropFile","_s2","_s","$RefreshSig$","t","i18n","dragActive","setDragActive","useState","inputRef","useRef","handleDrag","e","preventDefault","stopPropagation","type","handleDrop","files","target","length","handleFile","console","error","FileUpload","file","setFile","handleUpload","formData","FormData","append","response","post","headers","log","data","message","handleFileChange","alert","handleChange","onButtonClick","current","click","action","method","encType","className","id","onDragEnter","onSubmit","children","ref","multiple","onChange","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","for","onClick","onDragLeave","onDragOver","onDrop","_c","$RefreshReg$"],"sources":["G:/GH projects/WTFAdmin/src/components/DragNDrop/DragDrop.js"],"sourcesContent":["import React from \"react\";\r\nimport './DragDrop.css'\r\nimport { useTranslation } from 'react-i18next';\r\nimport axios from \"axios\";\r\n \r\n// drag drop file component\r\nfunction DragDropFile() {\r\n  const {t, i18n} = useTranslation()\r\n    // drag state\r\n    const [dragActive, setDragActive] = React.useState(false);\r\n    // ref\r\n    const inputRef = React.useRef(null);\r\n    \r\n    // handle drag events\r\n    const handleDrag = function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (e.type === 'dragenter' || e.type === 'dragover') {\r\n        setDragActive(true);\r\n      } else if (e.type === 'dragleave') {\r\n        setDragActive(false);\r\n      }\r\n    };\r\n    \r\n// triggers when file is dropped\r\nconst handleDrop = async function(e) {\r\n  e.preventDefault();\r\n  setDragActive(false);\r\n  const files = e.target.files;\r\n  if (files && files.length > 0) {\r\n    handleFile(files);\r\n    // await sendDataToServer(files[0]);\r\n  } else {\r\n    console.error('No files uploaded');\r\n  }\r\n};\r\n\r\nconst FileUpload = () => {\r\n  const [file, setFile] = useState(null);\r\n\r\nconst handleUpload = async () => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    const response = await axios.post('/api/upload', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n\r\n    console.log('File uploaded:', response.data);\r\n  } catch (error) {\r\n    console.error('Error uploading file:', error.message);\r\n  }\r\n};\r\n\r\nconst handleFileChange = (e) => {\r\n  setFile(e.target.files[0]);\r\n};\r\n\r\n \r\n    function handleFile(files) {\r\n      alert(\"Number of files: \" + files.length);\r\n    }\r\n \r\n    // triggers when file is selected with click\r\n    const handleChange = async function(e) {\r\n      e.preventDefault();\r\n      const files = e.target.files;\r\n      if (files && files.length > 0) {\r\n        console.log(\"Selected file:\", files[0]);\r\n        handleFile(files);\r\n        // await sendDataToServer(files[0]);\r\n      } else {\r\n        console.error('No files uploaded');\r\n      }\r\n    };\r\n    \r\n    \r\n  // triggers the input when the button is clicked\r\n    const onButtonClick = (e) => {\r\n      e.preventDefault();\r\n      inputRef.current.click();\r\n    };\r\n    \r\n    return (\r\n      \r\n      <form action=\"/upload\" method=\"POST\" encType=\"multipart/form-data\" className=\"element-animation\" id=\"form-file-upload\" onDragEnter={handleDrag} onSubmit={(e) => e.preventDefault()}>\r\n        <input ref={inputRef} type=\"file\" id=\"input-file-upload\" multiple={true} onChange={handleFileChange} />\r\n        <label id=\"label-file-upload\" htmlFor=\"input-file-upload\" for=\"image\" className={dragActive ? \"drag-active\" : \"\" }>\r\n          <div>\r\n            <p>{t('post.pic')}</p>\r\n            <button className=\"upload-button\" onClick={handleUpload}>{t('post.picButton')}</button>\r\n          </div> \r\n        </label>\r\n        { dragActive && <div id=\"drag-file-element\" onDragEnter={(e) => e.preventDefault()} onDragLeave={(e) => e.preventDefault()} onDragOver={(e) => e.preventDefault()} onDrop={handleDrop}></div> }\r\n      </form>\r\n    );\r\n  };\r\n};\r\n \r\n  export default FileUpload;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}