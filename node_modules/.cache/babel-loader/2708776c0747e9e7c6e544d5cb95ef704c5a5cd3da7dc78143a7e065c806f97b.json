{"ast":null,"code":"var Sequence = require('./Sequence');\nvar Util = require('util');\nvar Packets = require('../packets');\nmodule.exports = Quit;\nUtil.inherits(Quit, Sequence);\nfunction Quit(options, callback) {\n  if (!callback && typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  Sequence.call(this, options, callback);\n  this._started = false;\n}\nQuit.prototype.end = function end(err) {\n  if (this._ended) {\n    return;\n  }\n  if (!this._started) {\n    Sequence.prototype.end.call(this, err);\n    return;\n  }\n  if (err && err.code === 'ECONNRESET' && err.syscall === 'read') {\n    // Ignore read errors after packet sent\n    Sequence.prototype.end.call(this);\n    return;\n  }\n  Sequence.prototype.end.call(this, err);\n};\nQuit.prototype.start = function () {\n  this._started = true;\n  this.emit('packet', new Packets.ComQuitPacket());\n};","map":{"version":3,"names":["Sequence","require","Util","Packets","module","exports","Quit","inherits","options","callback","call","_started","prototype","end","err","_ended","code","syscall","start","emit","ComQuitPacket"],"sources":["G:/GH projects/WTFAdmin/node_modules/mysql/lib/protocol/sequences/Quit.js"],"sourcesContent":["var Sequence = require('./Sequence');\r\nvar Util     = require('util');\r\nvar Packets  = require('../packets');\r\n\r\nmodule.exports = Quit;\r\nUtil.inherits(Quit, Sequence);\r\nfunction Quit(options, callback) {\r\n  if (!callback && typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n\r\n  Sequence.call(this, options, callback);\r\n\r\n  this._started = false;\r\n}\r\n\r\nQuit.prototype.end = function end(err) {\r\n  if (this._ended) {\r\n    return;\r\n  }\r\n\r\n  if (!this._started) {\r\n    Sequence.prototype.end.call(this, err);\r\n    return;\r\n  }\r\n\r\n  if (err && err.code === 'ECONNRESET' && err.syscall === 'read') {\r\n    // Ignore read errors after packet sent\r\n    Sequence.prototype.end.call(this);\r\n    return;\r\n  }\r\n\r\n  Sequence.prototype.end.call(this, err);\r\n};\r\n\r\nQuit.prototype.start = function() {\r\n  this._started = true;\r\n  this.emit('packet', new Packets.ComQuitPacket());\r\n};\r\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAY,CAAC;AACpC,IAAIC,IAAI,GAAOD,OAAO,CAAC,MAAM,CAAC;AAC9B,IAAIE,OAAO,GAAIF,OAAO,CAAC,YAAY,CAAC;AAEpCG,MAAM,CAACC,OAAO,GAAGC,IAAI;AACrBJ,IAAI,CAACK,QAAQ,CAACD,IAAI,EAAEN,QAAQ,CAAC;AAC7B,SAASM,IAAIA,CAACE,OAAO,EAAEC,QAAQ,EAAE;EAC/B,IAAI,CAACA,QAAQ,IAAI,OAAOD,OAAO,KAAK,UAAU,EAAE;IAC9CC,QAAQ,GAAGD,OAAO;IAClBA,OAAO,GAAG,CAAC,CAAC;EACd;EAEAR,QAAQ,CAACU,IAAI,CAAC,IAAI,EAAEF,OAAO,EAAEC,QAAQ,CAAC;EAEtC,IAAI,CAACE,QAAQ,GAAG,KAAK;AACvB;AAEAL,IAAI,CAACM,SAAS,CAACC,GAAG,GAAG,SAASA,GAAGA,CAACC,GAAG,EAAE;EACrC,IAAI,IAAI,CAACC,MAAM,EAAE;IACf;EACF;EAEA,IAAI,CAAC,IAAI,CAACJ,QAAQ,EAAE;IAClBX,QAAQ,CAACY,SAAS,CAACC,GAAG,CAACH,IAAI,CAAC,IAAI,EAAEI,GAAG,CAAC;IACtC;EACF;EAEA,IAAIA,GAAG,IAAIA,GAAG,CAACE,IAAI,KAAK,YAAY,IAAIF,GAAG,CAACG,OAAO,KAAK,MAAM,EAAE;IAC9D;IACAjB,QAAQ,CAACY,SAAS,CAACC,GAAG,CAACH,IAAI,CAAC,IAAI,CAAC;IACjC;EACF;EAEAV,QAAQ,CAACY,SAAS,CAACC,GAAG,CAACH,IAAI,CAAC,IAAI,EAAEI,GAAG,CAAC;AACxC,CAAC;AAEDR,IAAI,CAACM,SAAS,CAACM,KAAK,GAAG,YAAW;EAChC,IAAI,CAACP,QAAQ,GAAG,IAAI;EACpB,IAAI,CAACQ,IAAI,CAAC,QAAQ,EAAE,IAAIhB,OAAO,CAACiB,aAAa,CAAC,CAAC,CAAC;AAClD,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}